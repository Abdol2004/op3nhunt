<%- include('../partials/header', { title: 'Profile' }) %>

<div class="profile-page">
  <div class="container">
    <h1>Your Profile</h1>
    
    <div class="profile-grid">
      <div class="profile-card">
        <h2>Account Details</h2>
        <div class="profile-info">
          <div class="info-row">
            <span class="label">Username:</span>
            <span class="value"><%= user.username %></span>
          </div>
          <div class="info-row">
            <span class="label">Email:</span>
            <span class="value"><%= user.email %></span>
          </div>
          <div class="info-row">
            <span class="label">Status:</span>
            <span class="value">
              <% if (user.isActivePremium()) { %>
                <span class="badge badge-premium">ðŸ‘‘ Premium</span>
              <% } else { %>
                <span class="badge badge-free">Free</span>
              <% } %>
            </span>
          </div>
          <div class="info-row">
            <span class="label">Member Since:</span>
            <span class="value"><%= new Date(user.createdAt).toLocaleDateString() %></span>
          </div>
        </div>
      </div>
      
      <div class="profile-card">
        <h2>Statistics</h2>
        <div class="stats-grid">
          <div class="stat-box">
            <div class="stat-number"><%= user.savedGigs.length %></div>
            <div class="stat-label">Saved Gigs</div>
          </div>
          <div class="stat-box">
            <div class="stat-number"><%= user.savedGigs.filter(g => g.status === 'applied').length %></div>
            <div class="stat-label">Applied</div>
          </div>
          <div class="stat-box">
            <div class="stat-number"><%= user.dailyGigsViewed %></div>
            <div class="stat-label">Viewed Today</div>
          </div>
          <div class="stat-box">
            <div class="stat-number"><%= user.isActivePremium() ? 'âˆž' : '20' %></div>
            <div class="stat-label">Daily Limit</div>
          </div>
        </div>
      </div>
    </div>
    
    <% if (!user.isActivePremium()) { %>
      <div class="upgrade-banner">
        <h3>ðŸš€ Upgrade to Premium</h3>
        <p>Get unlimited gigs, advanced filters, and priority support for just $5/month</p>
        <a href="/premium" class="btn-primary">Learn More</a>
      </div>
    <% } %>
  </div>
</div>

<%- include('../partials/footer') %>
